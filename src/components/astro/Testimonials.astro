---
interface ReviewImage {
  initials: string;
  gradientFrom: string;
  gradientTo: string;
}

interface Project {
  name: string;
  scope: string;
  value: string;
  duration: string;
}

interface Review {
  id: number;
  name: string;
  position: string;
  company: string;
  image: ReviewImage;
  rating: number;
  text: string;
  project: Project;
}

interface GalleryImageGradient {
  from: string;
  to: string;
}

interface GalleryImage {
  url: string;
  dimensions: string;
  fallbackGradient: GalleryImageGradient;
}

interface GalleryItem {
  id: number;
  type: string;
  title: string;
  location: string;
  image: GalleryImage;
  description: string;
}

interface Stats {
  buildingsCompleted: string;
  onTimeDelivery: string;
  projectSupport: string;
  warranty: string;
}

import { testimonials } from '../../config/testimonials';
const { reviews, beforeAfterGallery, stats } = testimonials;
---

<!-- Testimonials Section -->
<section class="section-padding bg-gradient-to-br from-primary-50 to-secondary-50">
  <div class="max-w-7xl mx-auto container-padding">
    <!-- Section Header -->
    <div class="text-center mb-16">
      <div class="inline-flex items-center px-4 py-2 bg-primary-100 rounded-full text-primary-700 font-medium mb-4">
        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
        </svg>
        Success Stories
      </div>
      <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
        What Our
        <span class="gradient-text">Construction Partners Say</span>
      </h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        Hear from developers, contractors, and building owners who trusted us to complete their construction finishing projects with excellence and precision.
      </p>
    </div>

    <!-- Testimonials Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
      {reviews.map((review: Review) => (
        <div class="bg-white rounded-3xl p-8 card-shadow border border-gray-100 hover:border-primary-300 transition-all duration-300 transform hover:-translate-y-2">
          <div class="flex items-center mb-6">
            <div class={`w-16 h-16 bg-gradient-to-r from-${review.image.gradientFrom} to-${review.image.gradientTo} rounded-full flex items-center justify-center text-white font-bold text-lg mr-4`}>
              {review.image.initials}
            </div>
            <div>
              <h4 class="font-bold text-gray-900">{review.name}</h4>
              <p class="text-gray-600 text-sm">{review.position} • {review.company}</p>
              <div class="flex items-center mt-1">
                <div class="flex text-yellow-400">
                  {Array(review.rating).fill(null).map(() => (
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                  ))}
                </div>
              </div>
            </div>
          </div>
          <blockquote class="text-gray-700 mb-4">
            "{review.text}"
          </blockquote>
          <div class="flex items-center justify-between text-sm text-gray-500">
            <span>{review.project.name} • {review.project.value}</span>
            <span>{review.project.duration}</span>
          </div>
        </div>
      ))}
    </div>

    <!-- Before/After Gallery Section -->
    <div class="bg-white rounded-3xl p-8 md:p-12 card-shadow">
      <div class="text-center mb-12">
        <h3 class="text-3xl font-bold text-gray-900 mb-4">
          Before & After: Real Construction Finishing Projects
        </h3>
        <p class="text-gray-600 text-lg max-w-2xl mx-auto">
          See how we transform construction sites into beautiful, functional spaces across Dubai. 
          From kitchen installations to marble flooring, every detail matters.
        </p>
      </div>

      <!-- Gallery placeholder -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {beforeAfterGallery.map((item: GalleryItem) => (
          <div class="group cursor-pointer">
            <div class="relative overflow-hidden rounded-2xl">
              <div class={`w-full h-64 bg-gradient-to-r from-${item.image.fallbackGradient.from} to-${item.image.fallbackGradient.to} flex items-center justify-center relative`}>
                <div class="text-center">
                  <svg class="w-16 h-16 text-gray-400 mx-auto mb-2" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
                  </svg>
                  <p class="text-gray-500 text-sm font-medium">{item.type}</p>
                  <p class="text-gray-400 text-xs">Before → After • {item.image.dimensions}</p>
                </div>
              </div>
              <div class="absolute top-4 left-4 bg-primary-500 text-white px-3 py-1 rounded-full text-xs font-bold">
                {item.type}
              </div>
              <div class="absolute inset-0 bg-primary-600/0 group-hover:bg-primary-600/20 transition-all duration-300"></div>
              <span class="sr-only">{item.description}</span>
            </div>
            <div class="mt-4">
              <h4 class="font-bold text-gray-900">{item.title}</h4>
              <p class="text-gray-600 text-sm">{item.location}</p>
            </div>
          </div>
        ))}
      </div>

      <!-- Gallery CTA -->
      <div class="text-center mt-8">
        <p class="text-gray-600 mb-4">Want to see more transformation stories?</p>
        <a href="/gallery" class="inline-flex items-center text-primary-600 font-medium hover:text-primary-700 transition-colors">
          View Complete Gallery
          <svg class="w-4 h-4 ml-2" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/>
          </svg>
        </a>
      </div>
    </div>

    <!-- Overall Stats -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mt-16">
      <div class="text-center">
        <div class="text-4xl font-bold text-primary-600 mb-2">{stats.buildingsCompleted}</div>
        <div class="text-gray-600">Buildings Completed</div>
      </div>
      <div class="text-center">
        <div class="text-4xl font-bold text-secondary-600 mb-2">{stats.onTimeDelivery}</div>
        <div class="text-gray-600">On-Time Delivery</div>
      </div>
      <div class="text-center">
        <div class="text-4xl font-bold text-accent-600 mb-2">{stats.projectSupport}</div>
        <div class="text-gray-600">Project Support</div>
      </div>
      <div class="text-center">
        <div class="text-4xl font-bold text-green-600 mb-2">{stats.warranty}</div>
        <div class="text-gray-600">Month Warranty</div>
      </div>
    </div>
  </div>
</section>
